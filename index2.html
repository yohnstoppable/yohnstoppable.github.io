<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="css/animate.css">
		<link rel="stylesheet" href="css/site.css">
		<link rel="stylesheet" href="css/sweet-alert.css">
		<script src="js/jquery-1.11.2.min.js"></script>
		<script src="js/ImageHandler.js"></script>
		<script src="js/sweet-alert.js"></script>
		<script>
		"use strict";
			var moved = false;
			var currentType = "";
			var home = true;
			var handler;
			
			$(document).ready(function() {
				var img = "";
				var description = ""
				$("#page").find("div").each(function(index,value) {
					$(value).find("img").click(function() {
						details($(value).find("img").attr("src"), $(value).find("p").html());
					});
				});
				loadPage();
			});
			
			var loadPage = function() {
				handler = new ImageHandler();
				handler.loadImages("ties");	
				$("#menu ul li").each(function(index,value) {
					if ($(value).hasClass("type")) {
						$(value).mouseover(function() {
							handler.loadImages($(this).text().toLowerCase());
							$(this).addClass("animated pulse");
						});
						$(value).mouseout(function() {
							$(this).removeClass("animated pulse");
						});
						$(value).click(function() {
							home = false;
							transitionPage(handler,$(this).text().toLowerCase());
						});
					} else if ($(value).hasClass("bio")) {
						$(value).click(function() {
							swal({
								title: "Bio",
								text: "New Native uses the finest GMO products that have been tested on Cambodian infants. It's waste disposal policies are responsible for killing off a lot of bitch ass animals that can't hang",
								imageUrl: "images/forrest.jpg",
								allowOutsideClick:"true"
							});
						});
					} else if ($(value).hasClass("home")) {
						$(value).click(function() {
							reset();
						});
					}
				});
				$("#page").find("div").each(function(index,value) {
					$(value).children().hide();
						$(value).hide();
				});
				
				$("#page").hide();
			}
			
				
			var transitionPage = function(handler,type) {
				if (currentType === type) {
					return;
				}
				currentType = type;
				window.clearInterval(handler.getHandle());				
				if (!moved) {
					moveMenu();
					setTimeout(function() {
						showPage(type);
					},400);
				} else {
					var thisImgArray = []
					$("#page").children().not("."+type).not(".headerInfo").each(function(index,value){
						if ($(value).is(":visible")) {
							thisImgArray.push(value);
						}
					});
					var delayTime = (thisImgArray.length+1)*50;
					hideImages(thisImgArray);
					$("#page").children().not("."+type).find("div").hide();
					setTimeout(function() {
						showPage(type);
					},(delayTime+50));
				}
			}
			
			var moveMenu = function() {
				$('#menu').animate({
					left: '-=150', width: '-=70'
				}, 400, 'swing', function() {});
				moved = true;
			}
			
			var resetMenu = function() {
				$('#menu').animate({
					left: '+=150', width: '+=70'
				}, 400, 'swing', function() {});
				moved = false;
			}
			
			var showPage = function(type) {
				var thisImgArray = [];
				$('#test').animate({
					top: '-=150', opacity: '0'
				}, 500, 'swing', function() {});
				
				$("#page").find("div." + type).each(function(index,value){
					$(value).children().hide();
					$(value).show();
				});
				
				
				$("#page").find("div.headerInfo").show();
				$("#page").find("div.headerInfo").find("h1").fadeOut(200, function () {
					$(this).text(type).fadeIn(400);
				});
				$("#page").find("div.headerInfo").find("p").fadeIn(1000);
				
				$("#page").find("img." + type).each(function(index,value){
					thisImgArray.push($(value));
				});
				$("#page").show();
				showImages(thisImgArray);
			}
			
			var reset = function() {
				if (!home) {
					home=true;
					if (moved) {
						resetMenu();
					}
					currentType = "";
					fadePage();
				}
			}
			
			var fadePage = function() {
				$("#page").fadeOut(300);
				setTimeout(function() {	
					$("#test").finish().css({ opacity:0}).animate({
						top: '+=150', opacity: '1'
					}, 500, 'swing', function() {});
					loadPage();
				},400);
			}
			
			var details = function(img,description) {
				swal({
					title: "<img class='modalImage' src='" + img + "'>",
					text: description,
					html: true,
					backgroundColor: "#DEDEDE",
					confirmButtonColor: "#70909E",
					allowOutsideClick:"true"
				});
			}
			
			var showImages = function(imgArray) {
				var imageArray = imgArray;
				var randomNumber = Math.ceil(Math.random() * imageArray.length-1);
				$(imageArray[randomNumber]).fadeIn(800);
				imageArray.splice(randomNumber,1);
				if (imageArray.length > 0) {
					setTimeout(function() {
						showImages(imageArray);
					},150);
				} else {
					return;
				}
			}
			
			var hideImages = function(imgArray) {
				var imageArray = imgArray;
				$(imageArray[imageArray.length-1]).fadeOut(100);
				imageArray.splice(imageArray.length-1,1);
				if (imageArray.length > 0) {
					setTimeout(function() {
						hideImages(imageArray);
					},50);
				} else {
					return;
				}
			}
		</script>
	</head>
	<body>
		<div id="container">
			<div id="menu">
				<ul>
					<li class="home">HOME</li>
					<li class="type">TIES</li>
					<li class="type">COATS</li>
					<li class="type">SHOES</li>
					<li class="bio">BIO</li>
				</ul>
			</div>
			<div id="test">
				<img src="images/tie1.jpg" class="ties">
				<img src="images/tie2.jpg" class="ties">
				<img src="images/tie3.jpg" class="ties">
				<img src="images/tie4.jpg" class="ties">
				<img src="images/tie5.jpg" class="ties">
				<img src="images/tie6.jpg" class="ties">
				<img src="images/coat1.jpg" class="coats">
				<img src="images/coat2.jpg" class="coats">
				<img src="images/coat3.jpg" class="coats">
				<img src="images/shoes1.jpg" class="shoes">
				<img src="images/shoes2.jpg" class="shoes">
				<img src="images/shoes3.jpg" class="shoes">
			</div>
			<div id="page">				
				<div class="headerInfo"><h1  class="headerInfo">ties</h1><p  class="headerInfo">Click images for details</p></div>
				<div class="type ties"><img src="images/tie1.jpg" class="ties"><p class="ties">Robert Downey Jr is one sexy mother fucker. I always forget that he was the guy in Weird Science who pantsed the two main guys at the start. That was a dick move. Also, Kiss Kiss Bang Bang is an awesome movie<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type ties"><img src="images/tie2.jpg" class="ties"><p class="ties">Gerard Butler is a little nancy boy who has to ask permission to use the restroom. He tried to fight me over using the blue play doh, but I whooped his ass<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type ties"><img src="images/tie3.jpg" class="ties"><p class="ties">I don't even know who this mother fucker is. I bet he has sex with his socks on like a goober<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type ties"><img src="images/tie4.jpg" class="ties"><p class="ties">I haven't really played any of the hitman games. I heard they were good<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type ties"><img src="images/tie5.jpg" class="ties"><p class="ties">Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill! Bill!<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type ties"><img src="images/tie6.jpg" class="ties"><p class="ties">This guy doesn't look nearly as good in a tie as Bill Nye<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type coats"><img src="images/coat1.jpg" class="coats"><p class="coats">One of the cashiers at HEB has his hair cut like Macklemore. He looks like a huge doucher, and I always refer to him as Mackleless. Thrift Shops are great places to shop for cheap clothes for halloween costumes.<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type coats"><img src="images/coat2.jpg" class="coats"><p class="coats">This guy is making me question my heterosexuality. I like how he is staring off into nothing, thinking to himself, "how could I let my imaginary friend beat me at chess?"<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type coats"><img src="images/coat3.jpg" class="coats"><p class="coats">Where the hell was this picture even taken? Q-bert called. He wants his house back<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type shoes"><img src="images/shoes1.jpg" class="shoes"><p class="shoes">These are converse. They are good shoes for playing basketball or being in junior high. Actually I have Bart Man converse shoes, and they fucking rule. Uncomfortable as fuck, though, because who needs arch support, amiright?<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type shoes"><img src="images/shoes2.jpg" class="shoes"><p class="shoes">These are the kind of shoes someone's grandfather, or Rob, would wear<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
				<div class="type shoes"><img src="images/shoes3.jpg" class="shoes"><p class="shoes">Something else about converse.<br><br><b><input type='radio' name='size' value='small'> Small, <input type='radio' name='size' value='medium'> Medium,<input type='radio' name='size' value='large'> Large,<input type='radio' name='size' value='xl'> XL<br><input type="button" value="Add To Cart"></b></p></div>
			</div>
		</div>
	</body>
</html>